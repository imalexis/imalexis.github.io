"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6841],{7687:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var a=n(5893),i=n(1151);const r={slug:"relay-mutation",title:"Relay - Mutation",tags:["graphql","Relay"]},o=void 0,l={permalink:"/blog/relay-mutation",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/mutation.md",source:"@site/blog/mutation.md",title:"Relay - Mutation",description:"general steps for creating a new object using Relay Mutations:",date:"2024-01-09T15:47:15.000Z",formattedDate:"January 9, 2024",tags:[{label:"graphql",permalink:"/blog/tags/graphql"},{label:"Relay",permalink:"/blog/tags/relay"}],readingTime:.785,hasTruncateMarker:!0,authors:[],frontMatter:{slug:"relay-mutation",title:"Relay - Mutation",tags:["graphql","Relay"]},unlisted:!1,prevItem:{title:"js",permalink:"/blog/js"},nextItem:{title:"React Router",permalink:"/blog/react-router"}},s={authorsImageUrls:[]},c=[{value:"1. Define a GraphQL Mutation",id:"1-define-a-graphql-mutation",level:3},{value:"2. Create a Relay Mutation",id:"2-create-a-relay-mutation",level:3},{value:"3. invoke commit",id:"3-invoke-commit",level:3}];function u(e){const t={code:"code",h3:"h3",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"general steps for creating a new object using Relay Mutations:"}),"\n",(0,a.jsx)(t.h3,{id:"1-define-a-graphql-mutation",children:"1. Define a GraphQL Mutation"}),"\n",(0,a.jsx)(t.p,{children:"Create a GraphQL mutation that represents the action of creating a new object. This mutation should include input fields representing the data needed to create the object."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-graphql",children:"// Example GraphQL mutation\n\nconst mutation = graphql`\n mutation CreateObjectMutation($input: CreateObjectInput!) {\n createObject(input: $input) {\n object {\n   id\n   name\n   // other fields\n }\n}\n}\n` \n\n\n"})}),"\n",(0,a.jsx)(t.h3,{id:"2-create-a-relay-mutation",children:"2. Create a Relay Mutation"}),"\n",(0,a.jsx)(t.p,{children:"creare the commit method"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"const [commit] = useMutation<CreateObjectMutation>(mutation);\n"})}),"\n",(0,a.jsx)(t.p,{children:"CreateObjectMutation: the type of mutation"}),"\n",(0,a.jsx)(t.p,{children:"mutation: the definition of mutation"}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h3,{id:"3-invoke-commit",children:"3. invoke commit"}),"\n",(0,a.jsx)(t.p,{children:'the new object to be create should be place in the "input" property of "variable". "variable" is a property of the big Object we commit.'}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:'<Button\n        type="primary"\n        onClick={() =>\n          commit({\n            variables: { input: { createdBy: 1, name: title } },\n            onCompleted: (response, errors) => {\n              navigate("/admin/forms");\n            },\n          })\n        }\n/>\n'})})]})}function m(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>l,a:()=>o});var a=n(7294);const i={},r=a.createContext(i);function o(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);